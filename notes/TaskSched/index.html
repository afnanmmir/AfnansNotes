<!doctype html><html lang=en><head><meta charset=utf-8><meta name=description content="The problem can be found here
The Problem You are given a character array tasks that represent tasks that a CPU needs to perform, where each letter represents a different task."><meta property="og:title" content="Task Scheduler"><meta property="og:description" content="The problem can be found here
The Problem You are given a character array tasks that represent tasks that a CPU needs to perform, where each letter represents a different task."><meta property="og:type" content="website"><meta property="og:image" content="https://afnanmmir.github.io/AfnansNotes/icon.png"><meta property="og:url" content="https://afnanmmir.github.io/AfnansNotes/notes/TaskSched/"><meta property="og:width" content="200"><meta property="og:height" content="200"><meta name=twitter:card content="summary"><meta name=twitter:title content="Task Scheduler"><meta name=twitter:description content="The problem can be found here
The Problem You are given a character array tasks that represent tasks that a CPU needs to perform, where each letter represents a different task."><meta name=twitter:image content="https://afnanmmir.github.io/AfnansNotes/icon.png"><title>Task Scheduler</title><meta name=viewport content="width=device-width,initial-scale=1"><link rel="shortcut icon" type=image/png href=https://afnanmmir.github.io/AfnansNotes//icon.png><link href=https://afnanmmir.github.io/AfnansNotes/styles.ceaa17f665674ad6118aeed56042653d.min.css rel=stylesheet><link href=https://afnanmmir.github.io/AfnansNotes/styles/_light_syntax.86a48a52faebeaaf42158b72922b1c90.min.css rel=stylesheet id=theme-link><script src=https://afnanmmir.github.io/AfnansNotes/js/darkmode.4624faeeb57c3b05fd3a4e260542e266.min.js></script>
<script src=https://afnanmmir.github.io/AfnansNotes/js/util.00639692264b21bc3ee219733d38a8be.min.js></script>
<link rel=preload href=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css as=style onload='this.onload=null,this.rel="stylesheet"' integrity=sha384-R4558gYOUz8mP9YWpZJjofhk+zx0AS11p36HnD2ZKj/6JR5z27gSSULCNHIRReVs crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js integrity=sha384-z1fJDqw8ZApjGO3/unPWUPsIymfsJmyrDVWC8Tv/a1HeOtGmkwNd/7xUS0Xcnvsx crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/contrib/auto-render.min.js integrity=sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.2/dist/contrib/copy-tex.min.js integrity=sha384-ww/583aHhxWkz5DEVn6OKtNiIaLi2iBRNZXfJRiY1Ai7tnJ9UXpEsyvOITVpTl4A crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/@floating-ui/core@1.2.1></script>
<script src=https://cdn.jsdelivr.net/npm/@floating-ui/dom@1.2.1></script>
<script defer src=https://afnanmmir.github.io/AfnansNotes/js/popover.aa9bc99c7c38d3ae9538f218f1416adb.min.js></script>
<script defer src=https://afnanmmir.github.io/AfnansNotes/js/code-title.ce4a43f09239a9efb48fee342e8ef2df.min.js></script>
<script defer src=https://afnanmmir.github.io/AfnansNotes/js/clipboard.2913da76d3cb21c5deaa4bae7da38c9f.min.js></script>
<script defer src=https://afnanmmir.github.io/AfnansNotes/js/callouts.7723cac461d613d118ee8bb8216b9838.min.js></script>
<script>const SEARCH_ENABLED=!0,LATEX_ENABLED=!0,PRODUCTION=!0,BASE_URL="https://afnanmmir.github.io/AfnansNotes/",fetchData=Promise.all([fetch("https://afnanmmir.github.io/AfnansNotes/indices/linkIndex.ecafcf4dad804cb1c4388af6cf841a3c.min.json").then(e=>e.json()).then(e=>({index:e.index,links:e.links})),fetch("https://afnanmmir.github.io/AfnansNotes/indices/contentIndex.3c2153930b785ec61e3abb825270b272.min.json").then(e=>e.json())]).then(([{index:e,links:t},n])=>({index:e,links:t,content:n})),render=()=>{const e=new URL(BASE_URL),t=e.pathname,n=window.location.pathname,s=t==n;addCopyButtons(),addTitleToCodeBlocks(),addCollapsibleCallouts(),initPopover("https://afnanmmir.github.io/AfnansNotes",!0);const o=document.getElementById("footer");if(o){const e=document.getElementById("graph-container");if(!e)return requestAnimationFrame(render);e.textContent="";const t=s&&!1;drawGraph("https://afnanmmir.github.io/AfnansNotes",t,[{"/moc":"#4388cc"}],t?{centerForce:1,depth:-1,enableDrag:!0,enableLegend:!1,enableZoom:!0,fontSize:.5,linkDistance:1,opacityScale:3,repelForce:1,scale:1.4}:{centerForce:1,depth:-1,enableDrag:!0,enableLegend:!1,enableZoom:!0,fontSize:.6,linkDistance:1,opacityScale:3,repelForce:2,scale:1.2})}var i=document.getElementsByClassName("mermaid");i.length>0&&import("https://unpkg.com/mermaid@9/dist/mermaid.esm.min.mjs").then(e=>{e.default.init()});function a(n){const e=n.target,t=e.className.split(" "),s=t.includes("broken"),o=t.includes("internal-link");plausible("Link Click",{props:{href:e.href,broken:s,internal:o,graph:!1}})}const r=document.querySelectorAll("a");for(link of r)link.className.includes("root-title")&&link.addEventListener("click",a,{once:!0})},init=(e=document)=>{addCopyButtons(),addTitleToCodeBlocks(),renderMathInElement(e.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}],macros:{'â€™':"'"},throwOnError:!1})}</script><script type=module>
    import { attachSPARouting } from "https:\/\/afnanmmir.github.io\/AfnansNotes\/js\/router.d6fe6bd821db9ea97f9aeefae814d8e7.min.js"
    attachSPARouting(init, render)
  </script><script defer data-domain=afnanmmir.github.io/AfnansNotes src=https://plausible.io/js/script.js></script>
<script>window.plausible=window.plausible||function(){(window.plausible.q=window.plausible.q||[]).push(arguments)}</script></head><body><div id=search-container><div id=search-space><input autocomplete=off id=search-bar name=search type=text aria-label placeholder><div id=results-container></div></div></div><script defer type=module src=https://afnanmmir.github.io/AfnansNotes/js/semantic-search.8b3be981c414b4411fac835663bb9693.min.js></script><div class=singlePage><header><h1 id=page-title><a class=root-title href=https://afnanmmir.github.io/AfnansNotes/>Afnan's Thoughts</a></h1><div class=spacer></div><div id=search-icon><p></p><svg tabindex="0" aria-labelledby="title desc" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.9 19.7"><title id="title"/><desc id="desc"/><g class="search-path" fill="none"><path stroke-linecap="square" d="M18.5 18.3l-5.4-5.4"/><circle cx="8" cy="8" r="7"/></g></svg></div><div class=darkmode><input class=toggle id=darkmode-toggle type=checkbox tabindex=-1>
<label id=toggle-label-light for=darkmode-toggle tabindex=-1><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="dayIcon" viewBox="0 0 35 35" style="enable-background:new 0 0 35 35"><title/><path d="M6 17.5C6 16.672 5.328 16 4.5 16h-3C.672 16 0 16.672.0 17.5S.672 19 1.5 19h3C5.328 19 6 18.328 6 17.5zM7.5 26c-.414.0-.789.168-1.061.439l-2 2C4.168 28.711 4 29.086 4 29.5 4 30.328 4.671 31 5.5 31c.414.0.789-.168 1.06-.44l2-2C8.832 28.289 9 27.914 9 27.5 9 26.672 8.329 26 7.5 26zm10-20C18.329 6 19 5.328 19 4.5v-3C19 .672 18.329.0 17.5.0S16 .672 16 1.5v3C16 5.328 16.671 6 17.5 6zm10 3c.414.0.789-.168 1.06-.439l2-2C30.832 6.289 31 5.914 31 5.5 31 4.672 30.329 4 29.5 4c-.414.0-.789.168-1.061.44l-2 2C26.168 6.711 26 7.086 26 7.5 26 8.328 26.671 9 27.5 9zM6.439 8.561C6.711 8.832 7.086 9 7.5 9 8.328 9 9 8.328 9 7.5c0-.414-.168-.789-.439-1.061l-2-2C6.289 4.168 5.914 4 5.5 4 4.672 4 4 4.672 4 5.5c0 .414.168.789.439 1.06l2 2.001zM33.5 16h-3c-.828.0-1.5.672-1.5 1.5s.672 1.5 1.5 1.5h3c.828.0 1.5-.672 1.5-1.5S34.328 16 33.5 16zM28.561 26.439C28.289 26.168 27.914 26 27.5 26c-.828.0-1.5.672-1.5 1.5.0.414.168.789.439 1.06l2 2C28.711 30.832 29.086 31 29.5 31c.828.0 1.5-.672 1.5-1.5.0-.414-.168-.789-.439-1.061l-2-2zM17.5 29c-.829.0-1.5.672-1.5 1.5v3c0 .828.671 1.5 1.5 1.5s1.5-.672 1.5-1.5v-3C19 29.672 18.329 29 17.5 29zm0-22C11.71 7 7 11.71 7 17.5S11.71 28 17.5 28 28 23.29 28 17.5 23.29 7 17.5 7zm0 18c-4.136.0-7.5-3.364-7.5-7.5s3.364-7.5 7.5-7.5 7.5 3.364 7.5 7.5S21.636 25 17.5 25z"/></svg></label><label id=toggle-label-dark for=darkmode-toggle tabindex=-1><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="nightIcon" viewBox="0 0 100 100" style="enable-background='new 0 0 100 100'"><title/><path d="M96.76 66.458c-.853-.852-2.15-1.064-3.23-.534-6.063 2.991-12.858 4.571-19.655 4.571C62.022 70.495 50.88 65.88 42.5 57.5 29.043 44.043 25.658 23.536 34.076 6.47c.532-1.08.318-2.379-.534-3.23-.851-.852-2.15-1.064-3.23-.534-4.918 2.427-9.375 5.619-13.246 9.491-9.447 9.447-14.65 22.008-14.65 35.369.0 13.36 5.203 25.921 14.65 35.368s22.008 14.65 35.368 14.65c13.361.0 25.921-5.203 35.369-14.65 3.872-3.871 7.064-8.328 9.491-13.246C97.826 68.608 97.611 67.309 96.76 66.458z"/></svg></label></div></header><article><h1>Task Scheduler</h1><p class=meta>Aug 19, 2022
<a href=https://github.com/jackyzha0/quartz/tree/hugo/content/notes/TaskSched.md rel=noopener></a></p><ul class=tags><li><a href=https://afnanmmir.github.io/AfnansNotes/tags/coding/>Coding</a></li><li><a href=https://afnanmmir.github.io/AfnansNotes/tags/software/>Software</a></li><li><a href=https://afnanmmir.github.io/AfnansNotes/tags/heaps/>Heaps</a></li><li><a href=https://afnanmmir.github.io/AfnansNotes/tags/greedy/>Greedy</a></li></ul><aside class=mainTOC><details open><summary></summary><nav id=TableOfContents></nav></details></aside><p>The problem can be found
<a href=https://leetcode.com/problems/task-scheduler/ rel=noopener>here</a></p><a href=#the-problem><h1 id=the-problem><span class=hanchor arialabel=Anchor># </span>The Problem</h1></a><p>You are given a character array <code>tasks</code> that represent tasks that a CPU needs to perform, where each letter represents a different task. Tasks can be done in any order, and they take one unit of time to execute.</p><p>However, there is a non-negative integer <code>n</code> that represents the cool down period between two same tasks for the CPU. This means there must be <code>n</code> units of time between two identical tasks for the CPU. In that time, the CPU can be doing other tasks or staying idle.</p><p>Return the least amount of units of time needed to complete all the tasks</p><a href=#the-approach><h1 id=the-approach><span class=hanchor arialabel=Anchor># </span>The Approach</h1></a><p>When choosing which task to execute, we have to take into consideration two factors: the amount of times each distinct task needs to be executed (how often it appears in the array), and which tasks can we perform at the given time. The general principle will be, at any given time, we want to execute the task that:</p><ul><li>Can be executed according to the cooldown time</li><li>Has the highest number of executions left among the tasks that can be executed.</li></ul><p>This will require us to keep track of tasks that can be executed at any given times, how many times they need to be executed, and the tasks that are in cool down. Because we want to always execute the task that requires the most executions, we can use a heap data structure to store the tasks that can be executed. This will allow us to find the maximum execution times in <code>log(n)</code> time. We can then store cooling down tasks in any ordered data structure. A queue will work best for us in this case. The algorithm is as follows. We first create a heap that will store objects which contain the task character, the number of times it needs to be executed, and the next possible time it can be executed. Each object will be initialized with a distinct character, the frequency of that character in the array, and <code>0</code> for the next possible time. We will then initialize an empty queue for tasks that will be on cooldown. We will then iterate the following process until both data structures are empty and keep track of the time.</p><p>We will pop the first element off of the heap. If this task still has more executions to be performed, we will perform the following:</p><ul><li>Decrement the number of times execution needed by 1</li><li>Set the time it can next be used to <code>time + n</code> where time is the current time.</li><li>Add to the queue.</li></ul><p>It is added to the queue now because it will be in cooldown. After this process is executed, we will check the cooldown queue. We will check the first element in the queue, and see if its cooldown period has expired yet. If it has, we will pop it off of the queue and add it back to the heap. These two processes will continue to go through, while also keeping track of time, until <strong>both</strong> data structures are empty. This ensures no tasks are in cool down and all have been executed. After this, we will have our minimum time we can return.</p><a href=#code><h1 id=code><span class=hanchor arialabel=Anchor># </span>Code</h1></a><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span><span class=lnt>61
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>class</span> <span class=nc>Solution</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=kd>class</span> <span class=nc>Task</span> <span class=kd>implements</span> <span class=n>Comparable</span><span class=o>&lt;</span><span class=n>Task</span><span class=o>&gt;{</span>
</span></span><span class=line><span class=cl>        <span class=kt>char</span> <span class=n>task</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>nextUseTime</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>numTasks</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=kd>public</span> <span class=nf>Task</span><span class=o>(</span><span class=kt>char</span> <span class=n>s</span><span class=o>,</span> <span class=kt>int</span> <span class=n>n</span><span class=o>,</span> <span class=kt>int</span> <span class=n>tasks</span><span class=o>){</span>
</span></span><span class=line><span class=cl>            <span class=n>task</span> <span class=o>=</span> <span class=n>s</span><span class=o>;</span>
</span></span><span class=line><span class=cl>            <span class=n>nextUseTime</span> <span class=o>=</span> <span class=n>n</span><span class=o>;</span>
</span></span><span class=line><span class=cl>            <span class=n>numTasks</span> <span class=o>=</span> <span class=n>tasks</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=kd>public</span> <span class=kt>boolean</span> <span class=nf>equals</span><span class=o>(</span><span class=n>Task</span> <span class=n>t</span><span class=o>){</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=o>(</span><span class=n>task</span> <span class=o>==</span> <span class=n>t</span><span class=o>.</span><span class=na>task</span><span class=o>)</span> <span class=o>&amp;&amp;</span> <span class=o>(</span><span class=n>nextUseTime</span> <span class=o>==</span> <span class=n>t</span><span class=o>.</span><span class=na>nextUseTime</span><span class=o>)</span> <span class=o>&amp;&amp;</span> <span class=o>(</span><span class=n>numTasks</span> <span class=o>==</span> <span class=n>t</span><span class=o>.</span><span class=na>numTasks</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=kd>public</span> <span class=kt>int</span> <span class=nf>compareTo</span><span class=o>(</span><span class=n>Task</span> <span class=n>t</span><span class=o>){</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=n>t</span><span class=o>.</span><span class=na>numTasks</span> <span class=o>-</span> <span class=n>numTasks</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=kd>public</span> <span class=n>String</span> <span class=nf>toString</span><span class=o>(){</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=n>task</span> <span class=o>+</span> <span class=s>&#34; &#34;</span> <span class=o>+</span> <span class=n>nextUseTime</span> <span class=o>+</span> <span class=s>&#34; &#34;</span> <span class=o>+</span> <span class=n>numTasks</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>int</span> <span class=nf>leastInterval</span><span class=o>(</span><span class=kt>char</span><span class=o>[]</span> <span class=n>tasks</span><span class=o>,</span> <span class=kt>int</span> <span class=n>n</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>Map</span><span class=o>&lt;</span><span class=n>Character</span><span class=o>,</span> <span class=n>Integer</span><span class=o>&gt;</span> <span class=n>charToFreq</span> <span class=o>=</span> <span class=k>new</span> <span class=n>HashMap</span><span class=o>&lt;</span><span class=n>Character</span><span class=o>,</span> <span class=n>Integer</span><span class=o>&gt;();</span>
</span></span><span class=line><span class=cl>        <span class=n>PriorityQueue</span><span class=o>&lt;</span><span class=n>Task</span><span class=o>&gt;</span> <span class=n>minHeap</span> <span class=o>=</span> <span class=k>new</span> <span class=n>PriorityQueue</span><span class=o>&lt;</span><span class=n>Task</span><span class=o>&gt;();</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span><span class=o>(</span><span class=kt>char</span> <span class=n>c</span><span class=o>:</span> <span class=n>tasks</span><span class=o>){</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span><span class=o>(</span><span class=n>charToFreq</span><span class=o>.</span><span class=na>containsKey</span><span class=o>(</span><span class=n>c</span><span class=o>)){</span>
</span></span><span class=line><span class=cl>                <span class=n>charToFreq</span><span class=o>.</span><span class=na>put</span><span class=o>(</span><span class=n>c</span><span class=o>,</span> <span class=n>charToFreq</span><span class=o>.</span><span class=na>get</span><span class=o>(</span><span class=n>c</span><span class=o>)</span> <span class=o>+</span> <span class=n>1</span><span class=o>);</span>
</span></span><span class=line><span class=cl>            <span class=o>}</span><span class=k>else</span><span class=o>{</span>
</span></span><span class=line><span class=cl>                <span class=n>charToFreq</span><span class=o>.</span><span class=na>put</span><span class=o>(</span><span class=n>c</span><span class=o>,</span> <span class=n>1</span><span class=o>);</span>
</span></span><span class=line><span class=cl>            <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span><span class=o>(</span><span class=kt>char</span> <span class=n>c</span><span class=o>:</span> <span class=n>charToFreq</span><span class=o>.</span><span class=na>keySet</span><span class=o>()){</span>
</span></span><span class=line><span class=cl>            <span class=n>minHeap</span><span class=o>.</span><span class=na>offer</span><span class=o>(</span><span class=k>new</span> <span class=n>Task</span><span class=o>(</span><span class=n>c</span><span class=o>,</span> <span class=n>0</span><span class=o>,</span> <span class=n>charToFreq</span><span class=o>.</span><span class=na>get</span><span class=o>(</span><span class=n>c</span><span class=o>)));</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=n>Queue</span><span class=o>&lt;</span><span class=n>Task</span><span class=o>&gt;</span> <span class=n>idle</span> <span class=o>=</span> <span class=k>new</span> <span class=n>LinkedList</span><span class=o>&lt;</span><span class=n>Task</span><span class=o>&gt;();</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>time</span> <span class=o>=</span> <span class=n>0</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>while</span><span class=o>(!</span><span class=n>minHeap</span><span class=o>.</span><span class=na>isEmpty</span><span class=o>()</span> <span class=o>||</span> <span class=o>!</span><span class=n>idle</span><span class=o>.</span><span class=na>isEmpty</span><span class=o>()){</span>
</span></span><span class=line><span class=cl>            <span class=c1>// System.out.println(minHeap);
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=c1>// System.out.println(idle);
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=n>time</span> <span class=o>+=</span> <span class=n>1</span><span class=o>;</span>
</span></span><span class=line><span class=cl>            <span class=n>Task</span> <span class=n>polled</span><span class=o>;</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span><span class=o>(!</span><span class=n>minHeap</span><span class=o>.</span><span class=na>isEmpty</span><span class=o>()){</span>
</span></span><span class=line><span class=cl>                <span class=n>polled</span> <span class=o>=</span> <span class=n>minHeap</span><span class=o>.</span><span class=na>poll</span><span class=o>();</span>
</span></span><span class=line><span class=cl>                <span class=n>polled</span><span class=o>.</span><span class=na>numTasks</span> <span class=o>-=</span> <span class=n>1</span><span class=o>;</span>
</span></span><span class=line><span class=cl>                <span class=n>polled</span><span class=o>.</span><span class=na>nextUseTime</span> <span class=o>=</span> <span class=n>n</span> <span class=o>+</span> <span class=n>time</span><span class=o>;</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span><span class=o>(</span><span class=n>polled</span><span class=o>.</span><span class=na>numTasks</span> <span class=o>&gt;</span> <span class=n>0</span><span class=o>)</span>
</span></span><span class=line><span class=cl>                    <span class=n>idle</span><span class=o>.</span><span class=na>add</span><span class=o>(</span><span class=n>polled</span><span class=o>);</span>
</span></span><span class=line><span class=cl>            <span class=o>}</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span><span class=o>(!</span><span class=n>idle</span><span class=o>.</span><span class=na>isEmpty</span><span class=o>()</span> <span class=o>&amp;&amp;</span> <span class=n>idle</span><span class=o>.</span><span class=na>peek</span><span class=o>().</span><span class=na>nextUseTime</span> <span class=o>&lt;=</span> <span class=n>time</span><span class=o>){</span>
</span></span><span class=line><span class=cl>                <span class=n>Task</span> <span class=n>notIdle</span> <span class=o>=</span> <span class=n>idle</span><span class=o>.</span><span class=na>poll</span><span class=o>();</span>
</span></span><span class=line><span class=cl>                <span class=n>minHeap</span><span class=o>.</span><span class=na>offer</span><span class=o>(</span><span class=n>notIdle</span><span class=o>);</span>
</span></span><span class=line><span class=cl>            <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>time</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div></article><hr><div class=page-end id=footer><div class=backlinks-container><h3></h3><ul class=backlinks><li><a href=/AfnansNotes/notes/LeetCode/ data-ctx="Task Scheduler" data-src=/notes/LeetCode class=internal-link>Leet Code Problems</a></li></ul></div><div><script src=https://cdn.jsdelivr.net/npm/d3@6.7.0/dist/d3.min.js integrity="sha256-+7jaYCp29O1JusNWHaYtgUn6EhuP0VaFuswhNV06MyI=" crossorigin=anonymous></script><h3></h3><div id=graph-container></div><style>:root{--g-node:var(--secondary);--g-node-active:var(--primary);--g-node-inactive:var(--visited);--g-link:var(--outlinegray);--g-link-active:#5a7282}</style><script src=https://afnanmmir.github.io/AfnansNotes/js/graph.6579af7b10c818dbd2ca038702db0224.js></script></div></div><div id=contact_buttons><footer><p></p><ul><li><a href=https://afnanmmir.github.io/AfnansNotes/></a></li><li><a href=https://www.linkedin.com/in/afnan-mir/>LinkedIn</a></li><li><a href=https://github.com/afnanmmir>GitHub</a></li></ul></footer></div></div></body></html>